class GalleryApi{static ALBUM_LINKS_API_URL="https://jsonplaceholder.typicode.com/albums";static FOTOS_API_URL="https://jsonplaceholder.typicode.com/photos?albumId=";static getList(){return fetch(GalleryApi.ALBUM_LINKS_API_URL).then(t=>{if(t.ok)return t.json();throw new Error("Can not get list of album links!")})}static getPhotos(t){return fetch(GalleryApi.FOTOS_API_URL+t).then(t=>{if(t.ok)return t.json();throw new Error("Can not get album photos!")})}}const CONTAINER_FOR_PHOTOS=".photos",CONTAINER_FOR_ALBUM_LINKS="#containerForAlbumLinks",CURRENT_ALBUM_LINK="#containerForAlbumLinks>div>a",FIRST_ALBUM_INDEX=0,containerForPhotos=document.querySelector(CONTAINER_FOR_PHOTOS),containerForAlbums=document.querySelector(CONTAINER_FOR_ALBUM_LINKS);let defaultAlbumId;function onAlbumLinkClick(t){clearContent(),getPhotosOfAlbum(t)}function getPhotosOfAlbum(t){t=t.target.closest(CURRENT_ALBUM_LINK).dataset.id;GalleryApi.getPhotos(t).then(t=>{t.forEach(t=>addPhotoToHTML(t))}).catch(showError)}function getListOfAlbumLinks(){GalleryApi.getList().then(t=>{t.forEach(t=>addAlbumLinksToHTML(t)),defaultAlbumId=t[FIRST_ALBUM_INDEX].id,getDefaultOfAlbumPhotos()}).catch(showError)}function getDefaultOfAlbumPhotos(){GalleryApi.getPhotos(defaultAlbumId).then(t=>{t.forEach(t=>addPhotoToHTML(t))}).catch(showError)}function addPhotoToHTML(t){t=generatePhotoHTML(t);containerForPhotos.insertAdjacentHTML("beforeend",t)}function generatePhotoHTML(t){return`<img src=${t.thumbnailUrl} alt="#">`}function addAlbumLinksToHTML(t){t=generateAlbumLinksHTML(t);containerForAlbums.insertAdjacentHTML("beforeend",t)}function generateAlbumLinksHTML(t){return`<div><a href="#" id="link" data-id="${t.id}">${t.title}</a></div>`}function clearContent(){containerForPhotos.textContent=""}function showError(t){alert(t.message)}containerForAlbums.addEventListener("click",onAlbumLinkClick),getListOfAlbumLinks();